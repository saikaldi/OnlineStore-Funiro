{% load static %}
{% load carts_tags %}

{% user_carts request as carts %}

<!-- Cart Icon that triggers modal -->
    <div>
      <button type="button" class="btn border d-flex" id="modalButton" data-bs-toggle="modal"
      data-bs-target="#exampleModal" aria-expanded="false">
        <img class="mx-1" src="{% static '/images/icons/cart-icon.svg' %}" alt="Cart Icon" width="24" height="24">
        <span id="goods-in-cart-count">{{ carts.total_quantity }}</span>
      </button>
    </div>
            <!--    Cart      -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog modal-dialog-scrollable">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <h3 class="text-center mb-4">Cart</h3>
                                <div class="container" id="cart-items-container">

                                    {% include "carts/includes/included_cart.html" %}

                                </div>
                                <a class="btn btn-dark" href="orders/create_order.html">
                                    Order
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
          </div>
        </div>
